<section id="contact">
        <div class="container">
            <div class="row">
                <div class="col-lg-12 text-center">
                    <h2 class="section-heading">Let's Talk</h2>
                    <h3 class="section-subheading text-muted">Ready to strengthen your security posture? Let's discuss how I can help.</h3>
                </div>
            </div>
            <div class="row">
                <div class="col-lg-12 text-center">
                    <p class="large text-muted">Flexible engagement models tailored to your stage and situation. From fractional CISO services to equity partnerships, let's discuss what works best for you.</p>
                </div>
            </div>
            <div class="row">
                <div class="col-lg-12">
                    <form id="contactForm">
                        <div class="row">
                            <div class="col-md-6">
                                <div class="control-group form-group">
                                    <input type="text" class="form-control" placeholder="Your Name *" id="name" name="name" required>
                                    <p class="help-block text-danger"></p>
                                </div>
                                <div class="control-group form-group">
                                    <input type="email" class="form-control" placeholder="Your Email *" id="_replyto" name="_replyto" required>
                                    <p class="help-block text-danger"></p>
                                </div>
                                <div class="control-group form-group">
                                    <input type="tel" class="form-control" placeholder="Your Phone *" id="phone" name="phone" required>
                                    <p class="help-block text-danger"></p>
                                </div>
                            </div>
                            <div class="col-md-6">
                                <div class="control-group form-group">
                                    <textarea class="form-control" placeholder="Your Message *" id="message" name="message" rows="8" required></textarea>
                                    <p class="help-block text-danger"></p>
                                </div>
                            </div>
                            <div class="clearfix"></div>
                            <div class="col-lg-12 text-center">
                                <!-- Cloudflare Turnstile (anti-spam protection) -->
                                <div class="cf-turnstile"
                                     data-sitekey="0x4AAAAAAB-oLR96mxCLkAel"
                                     data-theme="light"
                                     style="display: inline-block; margin-bottom: 15px;"></div>
                                <div id="success" style="margin-bottom: 15px;"></div>
                                <button type="submit" class="btn btn-xl" id="sendButton">Send Message</button>
                            </div>
                        </div>
                    </form>
                    <!-- Cloudflare Turnstile Script -->
                    <script src="https://challenges.cloudflare.com/turnstile/v0/api.js" async defer></script>
                    <script>
                        document.getElementById('contactForm').addEventListener('submit', function(e) {
                            e.preventDefault();
                            var form = this;
                            var button = document.getElementById('sendButton');
                            var successDiv = document.getElementById('success');

                            // Get Turnstile response token
                            var turnstileResponse = turnstile.getResponse();

                            if (!turnstileResponse) {
                                successDiv.innerHTML = '<div class="alert alert-warning"><strong>Please complete the security check.</strong></div>';
                                return;
                            }

                            button.disabled = true;
                            button.textContent = 'Sending...';

                            var formData = new FormData(form);
                            formData.append('cf-turnstile-response', turnstileResponse);

                            fetch('https://formspree.io/f/mvovzand', {
                                method: 'POST',
                                body: formData,
                                headers: {
                                    'Accept': 'application/json'
                                }
                            }).then(function(response) {
                                if (response.ok) {
                                    successDiv.innerHTML = '<div class="alert alert-success"><strong>Thank you!</strong> Your message has been sent successfully.</div>';
                                    form.reset();
                                    turnstile.reset(); // Reset Turnstile widget
                                } else {
                                    throw new Error('Form submission failed');
                                }
                            }).catch(function(error) {
                                successDiv.innerHTML = '<div class="alert alert-danger"><strong>Oops!</strong> There was a problem sending your message. Please try again.</div>';
                                turnstile.reset(); // Reset Turnstile widget on error
                            }).finally(function() {
                                button.disabled = false;
                                button.textContent = 'Send Message';
                            });
                        });
                    </script>
                </div>
            </div>
        </div>
    </section>
